Title: Возвращение к «ПСКОВу»
Date: 2024-11-15 00:00
Category: News
Slug: pskov-again
Lang: ru

# Возврат к разработке «ПСКОВа»

Итак, у нас есть старая версия «ПСКОВа», а нам нужна новая с улучшенными
характеристиками.

Первым делом стоит вспомнить, из чего состоит «ПСКОВ»:

1. Непосредственно [генератор][pskov-ru] в виде веб-страницы на HTML + JavaScript
1. Вспомогательный [скрипт Python][lfsa-ru] для сохранения генерируемых файлов на диске

Вспомогательный скрипт нужен по одной причине: веб-страницам запрещено общаться
с локальной файловой системой по соображениям безопасности. Данный скрипт представляет
из себя крошечный веб-сервер с ограниченным набором команд:

| № | Команда | Детали |
|---|---|---|
| 1 | GET /path | Получение пути к текущей рабочей директории |
| 2 | POST /list | Получение списка файлов переданного в теле запроса пути |
| 3 | POST /read | Получение содержимого файла |
| 4 | POST /write | Запись содержимого файла |

# Замена скрипта

Самым простым способ вернуться к разработке «ПСКОВ», таким образом, является
переписывание вспомогательного скрипта. На замену Python я выбрал Kotlin
по нескольким причинам:

1. ....


Зачем менять языки, если всё и так работает? Потому что использование Kotlin
позволяет охватить сразу и веб-браузер, и локальный доступ к файловой системе.
Команда JetBrains - авторы Kotlin - вкладывают кучу усилий в то, чтобы код
на Kotlin работал на всех популярных платформах. Так почему бы не воспользоваться
человекочасами авторов Kotlin, чтобы написать всё-таки код один раз, а затем
собрать его под нужную платформу? Вот поэтому.

В итоге комбинация технологий будет следующая:

1. Новая версия генератора «ПСКОВ» на JavaScript, полученного из Kotlin
2. Родное крошечное приложение на Linux, macOS, Windows для предоставления доступа к локальной файловой системе 

# Ноябрь

В ноябре я планирую получить приложение для доступа к локальной файловой системе для замены скрипта Python.

[pskov-ru]: https://opengamestudio.org/pskov/ru/pskov_1.0.0+ru.html
[lfsa-ru]: https://opengamestudio.org/lfsa/ru/index.html
